#!/usr/bin/env node

var app = require('commander')
  , fs = require('fs')
  , rnpm = require('../lib')
  , path = require('path');

app
  .version(JSON.parse(fs.readFileSync(path.join(__dirname, '..', 'package.json'), 'utf-8')).version);

app
  .command('install')
  .description('Recursively install dependencies')
  .action(function() {
    rnpm.install()
  });

app
  .command('analyze')
  .description('Analyze dependencies recursively and warn about any inconsistencies')
  .action(function() {
    rnpm.analyze()
  });

app
  .parse(process.argv);

if (process.argv.length == 2) {
  app.help()
}
